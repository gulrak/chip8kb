#!/usr/bin/env bash
set -euo pipefail

# Always run from repo root
REPO_ROOT="$(git rev-parse --show-toplevel)"
cd "$REPO_ROOT"

# Run all generators (add more later by naming them tools/generate-*.py)
shopt -s nullglob
for gen in tools/generate-*.py; do
  echo "==> Running generator: $gen"
  python3 "$gen"
done

echo "==> Building Hugo site"
hugo --gc --minify
